"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{3169:(e,t,r)=>{r.d(t,{As:()=>o,OJ:()=>c,xf:()=>d});var a=r(5155),s=r(2115),l=r(5695),n=r(2108);r(7383);let i=(0,s.createContext)();function c(e){let{children:t}=e,{data:r,status:c}=(0,n.useSession)(),[o,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(!0),x=(0,l.useRouter)();(0,s.useEffect)(()=>{if("loading"===c)return void m(!0);(null==r?void 0:r.user)?d({id:r.user.id,name:r.user.name,email:r.user.email,image:r.user.image,role:r.user.role,department:r.user.department,employeeId:r.user.employeeId}):d(null),m(!1)},[r,c]);let h=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"google";try{let t=await (0,n.signIn)(e,{callbackUrl:f(null==o?void 0:o.role)||"/"});return{success:!0,result:t}}catch(e){return console.error("Login error:",e),{success:!1,error:"Login failed"}}},g=async()=>{try{await (0,n.signOut)({callbackUrl:"/login"})}catch(e){console.error("Logout error:",e)}},f=e=>{switch(e){case"admin":return"/admin";case"hod":return"/hod";case"security_head":return"/securityincharge";case"security":return"/security";case"faculty":return"/faculty";default:return"/"}};return(0,a.jsx)(i.Provider,{value:{user:o,loading:u||"loading"===c,login:h,logout:g,hasRole:e=>{if(!(null==o?void 0:o.role))return!1;let t={admin:4,security_head:3,hod:2,security:1,faculty:1};return(t[o.role]||0)>=(t[e]||0)},hasAnyRole:e=>!!(null==o?void 0:o.role)&&!!Array.isArray(e)&&e.includes(o.role),isRole:e=>(null==o?void 0:o.role)===e,navigateToDashboard:()=>{let e=f(null==o?void 0:o.role);console.log("\uD83D\uDE80 navigateToDashboard: Navigating to:",{userRole:null==o?void 0:o.role,dashboardUrl:e,userEmail:null==o?void 0:o.email});try{console.log("\uD83D\uDE80 navigateToDashboard: Attempting router.push..."),x.push(e),setTimeout(()=>{console.log("\uD83D\uDE80 navigateToDashboard: Router.push timeout, using window.location fallback"),window.location.href=e},1e3)}catch(t){console.error("\uD83D\uDE80 navigateToDashboard: Router.push failed, using window.location:",t),window.location.href=e}},getDashboardUrl:f,session:r},children:t})}function o(){let e=(0,s.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}function d(){let[e,t]=(0,s.useState)(!1),[r,a]=(0,s.useState)(null),[l,n]=(0,s.useState)(null);return{loading:e,error:r,scanResult:l,clearError:()=>a(null),clearResult:()=>n(null),scanQRCode:async(e,r,s)=>{t(!0),a(null);try{let t=await fetch("/api/security/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({qrData:e,action:"collection",location:r,deviceInfo:s})}),a=await t.json();if(!t.ok)throw Error(a.error||"Failed to process QR code");return n(a),{success:!0,data:a}}catch(t){let e=t.message||"Failed to process QR code";return a(e),{success:!1,error:e}}finally{t(!1)}}}}},3202:(e,t,r)=>{r.d(t,{Ay:()=>i,DP:()=>n});var a=r(5155),s=r(2115);let l=(0,s.createContext)({theme:"light",toggleTheme:()=>{},setTheme:()=>{}}),n=()=>{let e=(0,s.useContext)(l);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e},i=e=>{let{children:t}=e,[r,n]=(0,s.useState)("light"),[i,c]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{let e=localStorage.getItem("vnr-key-theme"),t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";n(e||t),c(!0)},[]),(0,s.useEffect)(()=>{if(i){let e=document.documentElement;"dark"===r?e.classList.add("dark"):e.classList.remove("dark"),localStorage.setItem("vnr-key-theme",r)}},[r,i]),i)?(0,a.jsx)(l.Provider,{value:{theme:r,toggleTheme:()=>{n(e=>"light"===e?"dark":"light")},setTheme:e=>{n(e)}},children:t}):(0,a.jsx)("div",{style:{visibility:"hidden"},children:t})}},5128:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(5155);let s=(0,r(2115).forwardRef)((e,t)=>{let{children:r,className:s="",variant:l="default",padding:n="md",shadow:i=!0,hover:c=!1,onClick:o,role:d=null,elevated:u=!1,interactive:m=!1,...x}=e,h={default:"",success:"border-success/30 bg-success-light",warning:"border-warning/30 bg-warning-light",danger:"border-danger/30 bg-danger-light",info:"border-info/30 bg-info-light",primary:"border-primary-200 bg-primary-50",faculty:"border-faculty/30 bg-faculty-light",security:"border-security/30 bg-security-light",hod:"border-hod/30 bg-hod-light","security-head":"border-security-head/30 bg-security-head-light"},g=d?h[d]:"",f=d?"":h[l],y="".concat("bg-surface rounded-2xl border border-default transition-all duration-200"," ").concat(f," ").concat(g," ").concat({none:"",xs:"p-2",sm:"p-3",md:"p-4",lg:"p-6",xl:"p-8"}[n]," ").concat(i?u?"shadow-elevated":"card-shadow":""," ").concat(c||m?"hover:shadow-lg hover:-translate-y-1 cursor-pointer active:scale-[0.98]":""," ").concat(o?"cursor-pointer":""," ").concat(s);return(0,a.jsx)("div",{ref:t,className:y,onClick:o,role:m?"button":void 0,tabIndex:m?0:void 0,onKeyDown:m?e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),null==o||o(e))}:void 0,...x,children:r})});s.displayName="Card";let l=s},6826:(e,t,r)=>{r.d(t,{Ex:()=>N,im:()=>w,$n:()=>n,Zp:()=>i.A,Y9:()=>y,aF:()=>b,vd:()=>J,vq:()=>U,ER:()=>E,NP:()=>M.Ay,UW:()=>V,tE:()=>_,dj:()=>D});var a=r(5155),s=r(2115);let l=(0,s.forwardRef)((e,t)=>{let{children:r,variant:s="primary",size:l="md",className:n="",disabled:i=!1,loading:c=!1,icon:o,...d}=e,u="".concat("inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500",secondary:"bg-surface hover:bg-surface-secondary text-primary border border-default focus:ring-primary-500",success:"bg-success hover:bg-green-700 text-white focus:ring-green-500",warning:"bg-warning hover:bg-yellow-700 text-white focus:ring-yellow-500",danger:"bg-danger hover:bg-red-700 text-white focus:ring-red-500",ghost:"hover:bg-surface-secondary text-primary focus:ring-primary-500",outline:"border border-default hover:bg-surface-secondary text-primary focus:ring-primary-500"}[s]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base",xl:"px-8 py-4 text-lg"}[l]," ").concat(n);return(0,a.jsxs)("button",{ref:t,className:u,disabled:i||c,...d,children:[c&&(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o&&!c&&(0,a.jsx)("span",{className:"mr-2",children:o}),r]})});l.displayName="Button";let n=l;var i=r(5128),c=r(4783),o=r(7924),d=r(3861),u=r(1007),m=r(6474),x=r(381),h=r(4835),g=r(5695),f=r(3169);let y=e=>{let{title:t="VNR Key Management",showNotifications:r=!0,showSearch:l=!1,showProfile:i=!0,onNotificationClick:y,onProfileClick:p,onMenuClick:b,searchValue:v,onSearchChange:w,searchPlaceholder:j="Search...",className:N=""}=e,{user:k,logout:A}=(0,f.As)(),C=(0,g.useRouter)(),[E,S]=(0,s.useState)(!1),R=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=e=>{R.current&&!R.current.contains(e.target)&&S(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let T=e=>{switch(e){case"faculty_lab_staff":return"Faculty/Lab Staff";case"security_staff":return"Security Personnel";case"hod":return"Head of Department";case"security_incharge":return"Security In-charge";default:return e}};return(0,a.jsx)("header",{className:"bg-gray-800 border-b border-gray-700 px-4 py-3 ".concat(N),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[b&&(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:b,icon:(0,a.jsx)(c.A,{className:"h-5 w-5"}),className:"lg:hidden"}),(0,a.jsx)("div",{className:"flex items-center space-x-2 cursor-pointer",onClick:()=>C.push("/"),children:(0,a.jsx)("img",{src:"/VNRVJIETLOGO.png",alt:"VNR VJIET Logo",className:"w-100 h-16 object-contain"})})]}),l&&(0,a.jsx)("div",{className:"flex-1 max-w-md mx-4",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,a.jsx)("input",{type:"text",placeholder:j,value:v,onChange:e=>null==w?void 0:w(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[r&&(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:y,icon:(0,a.jsx)(d.A,{className:"h-5 w-5"}),className:"relative",children:(0,a.jsx)("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full"})}),i&&k&&(0,a.jsxs)("div",{className:"relative",ref:R,children:[(0,a.jsx)("button",{onClick:()=>S(!E),className:"flex items-center space-x-2 px-3 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gray-600 rounded-full flex items-center justify-center",children:(0,a.jsx)(u.A,{className:"h-4 w-4 text-gray-300"})}),(0,a.jsxs)("div",{className:"hidden sm:block text-left",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-white",children:k.userId}),(0,a.jsx)("div",{className:"text-xs px-2 py-0.5 rounded-full ".concat((e=>{switch(e){case"faculty_lab_staff":return"bg-primary-100 text-primary-800";case"security_staff":return"bg-green-100 text-green-800";case"hod":return"bg-indigo-600 text-white";case"security_incharge":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}})(k.role)),children:T(k.role)})]}),(0,a.jsx)(m.A,{className:"h-4 w-4 text-gray-300"})]})}),E&&(0,a.jsxs)("div",{className:"absolute right-0 mt-2 w-48 rounded-lg shadow-lg border py-1 z-50",style:{backgroundColor:"#ffffff !important",borderColor:"#e5e7eb !important"},children:[(0,a.jsxs)("div",{className:"px-4 py-2 border-b",style:{borderColor:"#f3f4f6 !important"},children:[(0,a.jsx)("div",{className:"text-sm font-bold",style:{color:"#000000 !important",fontWeight:"bold !important"},children:k.userId}),(0,a.jsx)("div",{className:"text-xs font-semibold",style:{color:"#000000 !important",fontWeight:"600 !important"},children:T(k.role)})]}),(0,a.jsxs)("button",{onClick:()=>{p&&p(),S(!1)},className:"w-full text-left px-4 py-2 text-sm font-semibold hover:bg-gray-100 flex items-center space-x-2",style:{color:"#000000 !important",fontWeight:"600 !important"},children:[(0,a.jsx)(x.A,{className:"h-4 w-4",style:{color:"#000000 !important",fill:"#000000 !important"}}),(0,a.jsx)("span",{style:{color:"#000000 !important"},children:"Profile Settings"})]}),(0,a.jsxs)("button",{onClick:()=>{A(),S(!1)},className:"w-full text-left px-4 py-2 text-sm font-semibold hover:bg-red-50 flex items-center space-x-2",style:{color:"#dc2626 !important",fontWeight:"600 !important"},children:[(0,a.jsx)(h.A,{className:"h-4 w-4",style:{color:"#dc2626 !important",fill:"#dc2626 !important"}}),(0,a.jsx)("span",{style:{color:"#dc2626 !important"},children:"Logout"})]})]})]})]})]})})};var p=r(4416);let b=e=>{let{isOpen:t,onClose:r,title:l,children:i,size:c="md",showCloseButton:o=!0,className:d=""}=e;return((0,s.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,r]),t)?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:r}),(0,a.jsx)("div",{className:"flex min-h-full items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-xl w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl",full:"max-w-full mx-4"}[c]," ").concat(d," slide-up"),children:[(l||o)&&(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l&&(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:l}),o&&(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:r,icon:(0,a.jsx)(p.A,{className:"h-5 w-5"})})]}),(0,a.jsx)("div",{className:"p-6",children:i})]})})]}):null},v=(0,s.forwardRef)((e,t)=>{let{items:r=[],activeItem:s,onItemClick:l,className:n="",variant:i="default",showLabels:c=!0,badge:o=null}=e,d=(e=>{switch(e){case"faculty":return{bg:"bg-surface border-default",active:"text-faculty bg-faculty/10",inactive:"text-secondary hover:text-faculty hover:bg-faculty/5"};case"security":return{bg:"bg-surface border-default",active:"text-security bg-security/10",inactive:"text-secondary hover:text-security hover:bg-security/5"};case"hod":return{bg:"bg-surface border-default",active:"text-hod bg-hod/10",inactive:"text-secondary hover:text-hod hover:bg-hod/5"};case"security-head":return{bg:"bg-surface border-default",active:"text-security-head bg-security-head/10",inactive:"text-secondary hover:text-security-head hover:bg-security-head/5"};default:return{bg:"bg-surface border-default",active:"text-primary-600 bg-primary-50",inactive:"text-secondary hover:text-primary hover:bg-primary-50"}}})(i);return(0,a.jsx)("nav",{ref:t,className:"fixed bottom-0 left-0 right-0 ".concat(d.bg," border-t px-2 py-1 safe-area-pb z-50 ").concat(n),style:{paddingBottom:"max(0.25rem, env(safe-area-inset-bottom))"},children:(0,a.jsx)("div",{className:"flex items-center justify-around max-w-md mx-auto",children:r.map((e,t)=>{let r=s===e.id,n=e.badge&&e.badge>0;return(0,a.jsxs)("button",{onClick:()=>null==l?void 0:l(e),className:"relative flex flex-col items-center justify-center p-3 rounded-2xl transition-all duration-200 min-w-[60px] ".concat(r?d.active:d.inactive),"aria-label":e.label,children:[n&&(0,a.jsx)("div",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-danger text-white text-xs font-bold rounded-full flex items-center justify-center px-1",children:e.badge>99?"99+":e.badge}),(0,a.jsx)("div",{className:"mb-1 ".concat(r?"scale-110":""," transition-transform duration-200"),children:e.icon}),c&&(0,a.jsx)("span",{className:"text-xs font-medium leading-tight text-center",children:e.label})]},e.id||t)})})})});v.displayName="BottomNavigation";let w=v,j=(0,s.forwardRef)((e,t)=>{let{children:r,variant:s="default",size:l="md",className:n="",...i}=e,c="".concat("inline-flex items-center font-medium rounded-full"," ").concat({default:"bg-gray-100 text-gray-800",primary:"bg-primary-100 text-primary-800",success:"bg-green-100 text-green-800",warning:"bg-yellow-100 text-yellow-800",danger:"bg-red-100 text-red-800",permanent:"bg-green-100 text-green-800",temporary:"bg-yellow-100 text-yellow-800",overdue:"bg-red-100 text-red-800",available:"bg-gray-100 text-gray-800"}[s]," ").concat({sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"}[l]," ").concat(n);return(0,a.jsx)("span",{ref:t,className:c,...i,children:r})});j.displayName="Badge";let N=j;r(6862);var k=r(5028),A=r(4355);let C=(0,k.default)(()=>Promise.all([r.e(96),r.e(179)]).then(r.bind(r,1179)),{loadableGenerated:{webpack:()=>[1179]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4",children:(0,a.jsxs)(i.A,{className:"w-full max-w-md",padding:"lg",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(A.A,{className:"h-5 w-5 text-primary-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Loading Scanner..."})]})}),(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Initializing camera scanner..."})]})]})})}),E=e=>{let[t,r]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{r(!0)},[]),t)?(0,a.jsx)(C,{...e}):null};var S=r(646),R=r(4861),T=r(1243),z=r(1284);let L=(0,s.createContext)(),D=()=>{let e=(0,s.useContext)(L);if(!e)throw Error("useToast must be used within a ToastProvider");return e},_=e=>{let{children:t}=e,[r,l]=(0,s.useState)([]),n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,a=Date.now()+Math.random(),s={id:a,message:e,type:t,duration:r};return l(e=>[...e,s]),r>0&&setTimeout(()=>{i(a)},r),a},i=e=>{l(t=>t.filter(t=>t.id!==e))};return(0,a.jsxs)(L.Provider,{value:{addToast:n,removeToast:i,success:(e,t)=>n(e,"success",t),error:(e,t)=>n(e,"error",t),warning:(e,t)=>n(e,"warning",t),info:(e,t)=>n(e,"info",t)},children:[t,(0,a.jsx)(P,{toasts:r,onRemove:i})]})},P=e=>{let{toasts:t,onRemove:r}=e;return 0===t.length?null:(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(e=>(0,a.jsx)(I,{toast:e,onRemove:r},e.id))})},I=e=>{let{toast:t,onRemove:r}=e,[l,n]=(0,s.useState)(!1),[i,c]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=setTimeout(()=>n(!0),10);return()=>clearTimeout(e)},[]);let o=()=>{switch(t.type){case"success":return"text-green-800";case"error":return"text-red-800";case"warning":return"text-yellow-800";default:return"text-primary-800"}};return(0,a.jsxs)("div",{className:(()=>{let e="flex items-center p-4 rounded-lg shadow-lg border max-w-sm w-full transition-all duration-300 transform";if(i||!l)return"".concat(e," translate-x-full opacity-0");switch(t.type){case"success":return"".concat(e," bg-green-50 border-green-200 translate-x-0 opacity-100");case"error":return"".concat(e," bg-red-50 border-red-200 translate-x-0 opacity-100");case"warning":return"".concat(e," bg-yellow-50 border-yellow-200 translate-x-0 opacity-100");default:return"".concat(e," bg-primary-50 border-primary-200 translate-x-0 opacity-100")}})(),children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(()=>{switch(t.type){case"success":return(0,a.jsx)(S.A,{className:"h-5 w-5 text-green-600"});case"error":return(0,a.jsx)(R.A,{className:"h-5 w-5 text-red-600"});case"warning":return(0,a.jsx)(T.A,{className:"h-5 w-5 text-yellow-600"});default:return(0,a.jsx)(z.A,{className:"h-5 w-5 text-primary-600"})}})()}),(0,a.jsx)("div",{className:"ml-3 flex-1 ".concat(o()),children:(0,a.jsx)("p",{className:"text-sm font-medium",children:t.message})}),(0,a.jsx)("button",{onClick:()=>{c(!0),setTimeout(()=>r(t.id),300)},className:"ml-4 flex-shrink-0 rounded-md p-1.5 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 ".concat(o()),children:(0,a.jsx)(p.A,{className:"h-4 w-4"})})]})};var M=r(3202),O=r(2098),B=r(3509);let V=e=>{let{className:t="",size:r="sm",variant:s="ghost",showLabel:l=!1}=e,{theme:i,toggleTheme:c}=(0,M.DP)(),o="dark"===i;return(0,a.jsx)(n,{variant:s,size:r,onClick:c,className:"transition-all duration-200 ".concat(t),icon:o?(0,a.jsx)(O.A,{className:"h-4 w-4"}):(0,a.jsx)(B.A,{className:"h-4 w-4"}),"aria-label":"Switch to ".concat(o?"light":"dark"," mode"),children:l&&(o?"Light":"Dark")})},W=(0,s.forwardRef)((e,t)=>{let{count:r=0,type:s="default",size:l="md",className:n="",onClick:i,showIcon:c=!0,animate:o=!0,...u}=e;if(0===r)return null;let m=r>99?"99+":r.toString();return(0,a.jsx)("div",{ref:t,className:"\n        inline-flex items-center justify-center\n        ".concat({sm:"min-w-[16px] h-4 text-xs px-1",md:"min-w-[20px] h-5 text-xs px-1.5",lg:"min-w-[24px] h-6 text-sm px-2"}[l],"\n        ").concat({default:"bg-primary-600 text-white",warning:"bg-warning text-white",danger:"bg-danger text-white",success:"bg-success text-white",info:"bg-info text-white"}[s],"\n        rounded-full font-bold\n        ").concat(o?"animate-bounce-in":"","\n        ").concat(i?"cursor-pointer hover:scale-110 transition-transform":"","\n        ").concat(n,"\n      "),onClick:i,...u,children:c&&1===r?(()=>{switch(s){case"warning":case"danger":return(0,a.jsx)(T.A,{className:"h-3 w-3"});case"success":return(0,a.jsx)(S.A,{className:"h-3 w-3"});case"info":return(0,a.jsx)(z.A,{className:"h-3 w-3"});default:return(0,a.jsx)(d.A,{className:"h-3 w-3"})}})():m})});W.displayName="NotificationBadge";let J=W;var F=r(2525);let U=e=>{let{isOpen:t,onClose:r,notifications:l=[],onMarkAsRead:c,onMarkAllAsRead:o,onDeleteNotification:u,userRole:m="faculty"}=e,[x,h]=(0,s.useState)("all"),g=l.filter(e=>"unread"===x?!e.read:"alerts"!==x||"alert"===e.type||"warning"===e.type),f=l.filter(e=>!e.read).length;return(0,a.jsx)(b,{isOpen:t,onClose:r,title:"Notifications",size:"lg",className:"max-h-[80vh]",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4 pb-4 border-b border-default",children:[(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(n,{variant:"all"===x?"primary":"ghost",size:"sm",onClick:()=>h("all"),children:["All (",l.length,")"]}),(0,a.jsxs)(n,{variant:"unread"===x?"primary":"ghost",size:"sm",onClick:()=>h("unread"),children:["Unread (",f,")"]}),(0,a.jsx)(n,{variant:"alerts"===x?"primary":"ghost",size:"sm",onClick:()=>h("alerts"),children:"Alerts"})]}),f>0&&(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:o,children:"Mark all read"})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto space-y-3",children:0===g.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(d.A,{className:"h-12 w-12 text-muted mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-primary mb-2",children:"No notifications"}),(0,a.jsx)("p",{className:"text-secondary",children:"unread"===x?"All caught up!":"You have no notifications yet."})]}):g.map(e=>(0,a.jsx)(i.A,{className:"transition-all duration-200 ".concat(e.read?"":"border-l-4 border-l-primary-600 bg-primary-50/30"),padding:"sm",children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0 mt-1",children:(e=>{switch(e){case"alert":return(0,a.jsx)(T.A,{className:"h-5 w-5 text-danger"});case"warning":return(0,a.jsx)(T.A,{className:"h-5 w-5 text-warning"});case"success":return(0,a.jsx)(S.A,{className:"h-5 w-5 text-success"});case"info":return(0,a.jsx)(z.A,{className:"h-5 w-5 text-info"});default:return(0,a.jsx)(d.A,{className:"h-5 w-5 text-primary-600"})}})(e.type)}),(0,a.jsx)("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-primary mb-1",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-secondary mb-2",children:e.message}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-muted",children:[(0,a.jsx)("span",{children:(e=>{let t=Math.floor((new Date-new Date(e))/6e4);return t<1?"Just now":t<60?"".concat(t,"m ago"):t<1440?"".concat(Math.floor(t/60),"h ago"):"".concat(Math.floor(t/1440),"d ago")})(e.timestamp)}),e.category&&(0,a.jsx)("span",{className:"px-2 py-1 bg-surface-secondary rounded-full",children:e.category})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[!e.read&&(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:()=>c(e.id),className:"text-xs",children:"Mark read"}),(0,a.jsx)(n,{variant:"ghost",size:"sm",onClick:()=>u(e.id),icon:(0,a.jsx)(F.A,{className:"h-3 w-3"}),className:"text-danger hover:bg-danger/10"})]})]})})]})},e.id))})]})})}}}]);