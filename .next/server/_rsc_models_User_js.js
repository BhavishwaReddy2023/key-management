"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_models_User_js";
exports.ids = ["_rsc_models_User_js"];
exports.modules = {

/***/ "(rsc)/./models/User.js":
/*!************************!*\
  !*** ./models/User.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst userSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    email: {\n        type: String,\n        required: true,\n        unique: true,\n        lowercase: true,\n        trim: true,\n        match: [\n            /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n            'Please enter a valid email address'\n        ]\n    },\n    name: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    employeeId: {\n        type: String,\n        required: true,\n        unique: true,\n        trim: true\n    },\n    role: {\n        type: String,\n        required: true,\n        enum: [\n            'faculty',\n            'hod',\n            'security',\n            'security_head',\n            'admin'\n        ],\n        default: 'faculty'\n    },\n    department: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    image: {\n        type: String,\n        default: null\n    },\n    googleId: {\n        type: String,\n        default: null\n    },\n    password: {\n        type: String,\n        default: null\n    },\n    profileImage: {\n        type: String,\n        default: null\n    },\n    isActive: {\n        type: Boolean,\n        default: true\n    },\n    lastLogin: {\n        type: Date,\n        default: null\n    },\n    passwordResetRequired: {\n        type: Boolean,\n        default: false\n    },\n    createdBy: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: 'User',\n        default: null\n    },\n    deletedAt: {\n        type: Date,\n        default: null\n    },\n    deletedBy: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: 'User',\n        default: null\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    },\n    updatedAt: {\n        type: Date,\n        default: Date.now\n    }\n}, {\n    timestamps: true\n});\n// Indexes for better performance\nuserSchema.index({\n    email: 1\n});\nuserSchema.index({\n    employeeId: 1\n});\nuserSchema.index({\n    role: 1\n});\nuserSchema.index({\n    department: 1\n});\nuserSchema.index({\n    googleId: 1\n});\nuserSchema.index({\n    isActive: 1\n});\nuserSchema.index({\n    createdAt: -1\n});\n// Pre-save middleware to update the updatedAt field\nuserSchema.pre('save', function(next) {\n    this.updatedAt = new Date();\n    next();\n});\n// Instance methods\nuserSchema.methods.toJSON = function() {\n    const user = this.toObject();\n    delete user.__v;\n    return user;\n};\nuserSchema.methods.updateLastLogin = function() {\n    this.lastLogin = new Date();\n    return this.save();\n};\n// Static methods\nuserSchema.statics.findByEmail = function(email) {\n    return this.findOne({\n        email: email.toLowerCase()\n    });\n};\nuserSchema.statics.findByEmployeeId = function(employeeId) {\n    return this.findOne({\n        employeeId\n    });\n};\nuserSchema.statics.findByRole = function(role) {\n    return this.find({\n        role,\n        isActive: true\n    });\n};\nuserSchema.statics.findByDepartment = function(department) {\n    return this.find({\n        department,\n        isActive: true\n    });\n};\nuserSchema.statics.findByGoogleId = function(googleId) {\n    return this.findOne({\n        googleId\n    });\n};\n// Virtual for full name (if needed)\nuserSchema.virtual('displayName').get(function() {\n    return this.name;\n});\nconst User = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('User', userSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBQUU3QyxPQUFPQSxNQUFNOEMsV0FBVztJQUFHO0FBQ25EO0FBRUFoRCxXQUFXNkMsT0FBTyxDQUFDSSxnQkFBZ0IsR0FBRyxTQUFTdEMsVUFBVTtJQUN2RCxPQUFPLElBQUksQ0FBQ29DLE9BQU8sQ0FBQztRQUFFcEM7SUFBVztBQUNuQztBQUVBWCxXQUFXNkMsT0FBTyxDQUFDSyxVQUFVLEdBQUcsU0FBU3RDLElBQUk7SUFDM0MsT0FBTyxJQUFJLENBQUN1QyxJQUFJLENBQUM7UUFBRXZDO1FBQU1RLFVBQVU7SUFBSztBQUMxQztBQUVBcEIsV0FBVzZDLE9BQU8sQ0FBQ08sZ0JBQWdCLEdBQUcsU0FBU3JDLFVBQVU7SUFDdkQsT0FBTyxJQUFJLENBQUNvQyxJQUFJLENBQUM7UUFBRXBDO1FBQVlLLFVBQVU7SUFBSztBQUNoRDtBQUVBcEIsV0FBVzZDLE9BQU8sQ0FBQ1EsY0FBYyxHQUFHLFNBQVNwQyxRQUFRO0lBQ25ELE9BQU8sSUFBSSxDQUFDOEIsT0FBTyxDQUFDO1FBQUU5QjtJQUFTO0FBQ2pDO0FBRUEsb0NBQW9DO0FBQ3BDakIsV0FBV3NELE9BQU8sQ0FBQyxlQUFlQyxHQUFHLENBQUM7SUFDcEMsT0FBTyxJQUFJLENBQUM3QyxJQUFJO0FBQ2xCO0FBRUEsTUFBTThDLE9BQU96RCx3REFBZSxDQUFDeUQsSUFBSSxJQUFJekQscURBQWMsQ0FBQyxRQUFRQztBQUU1RCxpRUFBZXdELElBQUlBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9rYXJ0aGlrZ3VycmFtL3Byb2plY3RzL2lubm92YXRpb24va2V5LW1hbmFnZW1lbnQvbW9kZWxzL1VzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB1bmlxdWU6IHRydWUsXG4gICAgbG93ZXJjYXNlOiB0cnVlLFxuICAgIHRyaW06IHRydWUsXG4gICAgbWF0Y2g6IFsvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLywgJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MnXVxuICB9LFxuICBuYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIHRyaW06IHRydWVcbiAgfSxcbiAgZW1wbG95ZWVJZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB1bmlxdWU6IHRydWUsXG4gICAgdHJpbTogdHJ1ZVxuICB9LFxuICByb2xlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGVudW06IFsnZmFjdWx0eScsICdob2QnLCAnc2VjdXJpdHknLCAnc2VjdXJpdHlfaGVhZCcsICdhZG1pbiddLFxuICAgIGRlZmF1bHQ6ICdmYWN1bHR5J1xuICB9LFxuICBkZXBhcnRtZW50OiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIHRyaW06IHRydWVcbiAgfSxcbiAgaW1hZ2U6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogbnVsbFxuICB9LFxuICBnb29nbGVJZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiBudWxsXG4gIH0sXG4gIHBhc3N3b3JkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6IG51bGxcbiAgfSxcbiAgcHJvZmlsZUltYWdlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6IG51bGxcbiAgfSxcbiAgaXNBY3RpdmU6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgbGFzdExvZ2luOiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0OiBudWxsXG4gIH0sXG4gIHBhc3N3b3JkUmVzZXRSZXF1aXJlZDoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2VcbiAgfSxcbiAgY3JlYXRlZEJ5OiB7XG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgIHJlZjogJ1VzZXInLFxuICAgIGRlZmF1bHQ6IG51bGxcbiAgfSxcbiAgZGVsZXRlZEF0OiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0OiBudWxsXG4gIH0sXG4gIGRlbGV0ZWRCeToge1xuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICByZWY6ICdVc2VyJyxcbiAgICBkZWZhdWx0OiBudWxsXG4gIH0sXG4gIGNyZWF0ZWRBdDoge1xuICAgIHR5cGU6IERhdGUsXG4gICAgZGVmYXVsdDogRGF0ZS5ub3dcbiAgfSxcbiAgdXBkYXRlZEF0OiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0OiBEYXRlLm5vd1xuICB9XG59LCB7XG4gIHRpbWVzdGFtcHM6IHRydWVcbn0pO1xuXG4vLyBJbmRleGVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcbnVzZXJTY2hlbWEuaW5kZXgoeyBlbWFpbDogMSB9KTtcbnVzZXJTY2hlbWEuaW5kZXgoeyBlbXBsb3llZUlkOiAxIH0pO1xudXNlclNjaGVtYS5pbmRleCh7IHJvbGU6IDEgfSk7XG51c2VyU2NoZW1hLmluZGV4KHsgZGVwYXJ0bWVudDogMSB9KTtcbnVzZXJTY2hlbWEuaW5kZXgoeyBnb29nbGVJZDogMSB9KTtcbnVzZXJTY2hlbWEuaW5kZXgoeyBpc0FjdGl2ZTogMSB9KTtcbnVzZXJTY2hlbWEuaW5kZXgoeyBjcmVhdGVkQXQ6IC0xIH0pO1xuXG4vLyBQcmUtc2F2ZSBtaWRkbGV3YXJlIHRvIHVwZGF0ZSB0aGUgdXBkYXRlZEF0IGZpZWxkXG51c2VyU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uKG5leHQpIHtcbiAgdGhpcy51cGRhdGVkQXQgPSBuZXcgRGF0ZSgpO1xuICBuZXh0KCk7XG59KTtcblxuLy8gSW5zdGFuY2UgbWV0aG9kc1xudXNlclNjaGVtYS5tZXRob2RzLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICBjb25zdCB1c2VyID0gdGhpcy50b09iamVjdCgpO1xuICBkZWxldGUgdXNlci5fX3Y7XG4gIHJldHVybiB1c2VyO1xufTtcblxudXNlclNjaGVtYS5tZXRob2RzLnVwZGF0ZUxhc3RMb2dpbiA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmxhc3RMb2dpbiA9IG5ldyBEYXRlKCk7XG4gIHJldHVybiB0aGlzLnNhdmUoKTtcbn07XG5cbi8vIFN0YXRpYyBtZXRob2RzXG51c2VyU2NoZW1hLnN0YXRpY3MuZmluZEJ5RW1haWwgPSBmdW5jdGlvbihlbWFpbCkge1xuICByZXR1cm4gdGhpcy5maW5kT25lKHsgZW1haWw6IGVtYWlsLnRvTG93ZXJDYXNlKCkgfSk7XG59O1xuXG51c2VyU2NoZW1hLnN0YXRpY3MuZmluZEJ5RW1wbG95ZWVJZCA9IGZ1bmN0aW9uKGVtcGxveWVlSWQpIHtcbiAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IGVtcGxveWVlSWQgfSk7XG59O1xuXG51c2VyU2NoZW1hLnN0YXRpY3MuZmluZEJ5Um9sZSA9IGZ1bmN0aW9uKHJvbGUpIHtcbiAgcmV0dXJuIHRoaXMuZmluZCh7IHJvbGUsIGlzQWN0aXZlOiB0cnVlIH0pO1xufTtcblxudXNlclNjaGVtYS5zdGF0aWNzLmZpbmRCeURlcGFydG1lbnQgPSBmdW5jdGlvbihkZXBhcnRtZW50KSB7XG4gIHJldHVybiB0aGlzLmZpbmQoeyBkZXBhcnRtZW50LCBpc0FjdGl2ZTogdHJ1ZSB9KTtcbn07XG5cbnVzZXJTY2hlbWEuc3RhdGljcy5maW5kQnlHb29nbGVJZCA9IGZ1bmN0aW9uKGdvb2dsZUlkKSB7XG4gIHJldHVybiB0aGlzLmZpbmRPbmUoeyBnb29nbGVJZCB9KTtcbn07XG5cbi8vIFZpcnR1YWwgZm9yIGZ1bGwgbmFtZSAoaWYgbmVlZGVkKVxudXNlclNjaGVtYS52aXJ0dWFsKCdkaXNwbGF5TmFtZScpLmdldChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubmFtZTtcbn0pO1xuXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWxzLlVzZXIgfHwgbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgVXNlcjtcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJlbWFpbCIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInVuaXF1ZSIsImxvd2VyY2FzZSIsInRyaW0iLCJtYXRjaCIsIm5hbWUiLCJlbXBsb3llZUlkIiwicm9sZSIsImVudW0iLCJkZWZhdWx0IiwiZGVwYXJ0bWVudCIsImltYWdlIiwiZ29vZ2xlSWQiLCJwYXNzd29yZCIsInByb2ZpbGVJbWFnZSIsImlzQWN0aXZlIiwiQm9vbGVhbiIsImxhc3RMb2dpbiIsIkRhdGUiLCJwYXNzd29yZFJlc2V0UmVxdWlyZWQiLCJjcmVhdGVkQnkiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwiZGVsZXRlZEF0IiwiZGVsZXRlZEJ5IiwiY3JlYXRlZEF0Iiwibm93IiwidXBkYXRlZEF0IiwidGltZXN0YW1wcyIsImluZGV4IiwicHJlIiwibmV4dCIsIm1ldGhvZHMiLCJ0b0pTT04iLCJ1c2VyIiwidG9PYmplY3QiLCJfX3YiLCJ1cGRhdGVMYXN0TG9naW4iLCJzYXZlIiwic3RhdGljcyIsImZpbmRCeUVtYWlsIiwiZmluZE9uZSIsInRvTG93ZXJDYXNlIiwiZmluZEJ5RW1wbG95ZWVJZCIsImZpbmRCeVJvbGUiLCJmaW5kIiwiZmluZEJ5RGVwYXJ0bWVudCIsImZpbmRCeUdvb2dsZUlkIiwidmlydHVhbCIsImdldCIsIlVzZXIiLCJtb2RlbHMiLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./models/User.js\n");

/***/ })

};
;