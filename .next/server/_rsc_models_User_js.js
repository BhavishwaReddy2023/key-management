"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_models_User_js";
exports.ids = ["_rsc_models_User_js"];
exports.modules = {

/***/ "(rsc)/./models/User.js":
/*!************************!*\
  !*** ./models/User.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst userSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    email: {\n        type: String,\n        required: true,\n        unique: true,\n        lowercase: true,\n        trim: true,\n        match: [\n            /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n            'Please enter a valid email address'\n        ]\n    },\n    name: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    employeeId: {\n        type: String,\n        required: true,\n        unique: true,\n        trim: true\n    },\n    role: {\n        type: String,\n        required: true,\n        enum: [\n            'faculty',\n            'hod',\n            'security',\n            'security_head',\n            'admin'\n        ],\n        default: 'faculty'\n    },\n    department: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    image: {\n        type: String,\n        default: null\n    },\n    googleId: {\n        type: String,\n        default: null\n    },\n    password: {\n        type: String,\n        default: null\n    },\n    profileImage: {\n        type: String,\n        default: null\n    },\n    isActive: {\n        type: Boolean,\n        default: true\n    },\n    lastLogin: {\n        type: Date,\n        default: null\n    },\n    passwordResetRequired: {\n        type: Boolean,\n        default: false\n    },\n    createdBy: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: 'User',\n        default: null\n    },\n    deletedAt: {\n        type: Date,\n        default: null\n    },\n    deletedBy: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: 'User',\n        default: null\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    },\n    updatedAt: {\n        type: Date,\n        default: Date.now\n    }\n}, {\n    timestamps: true\n});\n// Indexes for better performance\n// Note: email and employeeId indexes are automatically created due to unique: true\nuserSchema.index({\n    role: 1\n});\nuserSchema.index({\n    department: 1\n});\nuserSchema.index({\n    googleId: 1\n});\nuserSchema.index({\n    isActive: 1\n});\nuserSchema.index({\n    createdAt: -1\n});\n// Pre-save middleware to update the updatedAt field\nuserSchema.pre('save', function(next) {\n    this.updatedAt = new Date();\n    next();\n});\n// Instance methods\nuserSchema.methods.toJSON = function() {\n    const user = this.toObject();\n    delete user.__v;\n    return user;\n};\nuserSchema.methods.updateLastLogin = function() {\n    this.lastLogin = new Date();\n    return this.save();\n};\n// Static methods\nuserSchema.statics.findByEmail = function(email) {\n    return this.findOne({\n        email: email.toLowerCase()\n    });\n};\nuserSchema.statics.findByEmployeeId = function(employeeId) {\n    return this.findOne({\n        employeeId\n    });\n};\nuserSchema.statics.findByRole = function(role) {\n    return this.find({\n        role,\n        isActive: true\n    });\n};\nuserSchema.statics.findByDepartment = function(department) {\n    return this.find({\n        department,\n        isActive: true\n    });\n};\nuserSchema.statics.findByGoogleId = function(googleId) {\n    return this.findOne({\n        googleId\n    });\n};\n// Virtual for full name (if needed)\nuserSchema.virtual('displayName').get(function() {\n    return this.name;\n});\nconst User = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('User', userSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBRyxTQUFTdEMsVUFBVTtJQUN2RCxPQUFPLElBQUksQ0FBQ29DLE9BQU8sQ0FBQztRQUFFcEM7SUFBVztBQUNuQztBQUVBWCxXQUFXNkMsT0FBTyxDQUFDSyxVQUFVLEdBQUcsU0FBU3RDLElBQUk7SUFDM0MsT0FBTyxJQUFJLENBQUN1QyxJQUFJLENBQUM7UUFBRXZDO1FBQU1RLFVBQVU7SUFBSztBQUMxQztBQUVBcEIsV0FBVzZDLE9BQU8sQ0FBQ08sZ0JBQWdCLEdBQUcsU0FBU3JDLFVBQVU7SUFDdkQsT0FBTyxJQUFJLENBQUNvQyxJQUFJLENBQUM7UUFBRXBDO1FBQVlLLFVBQVU7SUFBSztBQUNoRDtBQUVBcEIsV0FBVzZDLE9BQU8sQ0FBQ1EsY0FBYyxHQUFHLFNBQVNwQyxRQUFRO0lBQ25ELE9BQU8sSUFBSSxDQUFDOEIsT0FBTyxDQUFDO1FBQUU5QjtJQUFTO0FBQ2pDO0FBRUEsb0NBQW9DO0FBQ3BDakIsV0FBV3NELE9BQU8sQ0FBQyxlQUFlQyxHQUFHLENBQUM7SUFDcEMsT0FBTyxJQUFJLENBQUM3QyxJQUFJO0FBQ2xCO0FBRUEsTUFBTThDLE9BQU96RCx3REFBZSxDQUFDeUQsSUFBSSxJQUFJekQscURBQWMsQ0FBQyxRQUFRQztBQUU1RCxpRUFBZXdELElBQUlBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9uZXcvSW5ub3ZhdGlvbi9rZXktbWFuYWdlbWVudC9tb2RlbHMvVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gIGVtYWlsOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICBsb3dlcmNhc2U6IHRydWUsXG4gICAgdHJpbTogdHJ1ZSxcbiAgICBtYXRjaDogWy9eW15cXHNAXStAW15cXHNAXStcXC5bXlxcc0BdKyQvLCAnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcyddXG4gIH0sXG4gIG5hbWU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdHJpbTogdHJ1ZVxuICB9LFxuICBlbXBsb3llZUlkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIHVuaXF1ZTogdHJ1ZSxcbiAgICB0cmltOiB0cnVlXG4gIH0sXG4gIHJvbGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgZW51bTogWydmYWN1bHR5JywgJ2hvZCcsICdzZWN1cml0eScsICdzZWN1cml0eV9oZWFkJywgJ2FkbWluJ10sXG4gICAgZGVmYXVsdDogJ2ZhY3VsdHknXG4gIH0sXG4gIGRlcGFydG1lbnQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdHJpbTogdHJ1ZVxuICB9LFxuICBpbWFnZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiBudWxsXG4gIH0sXG4gIGdvb2dsZUlkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6IG51bGxcbiAgfSxcbiAgcGFzc3dvcmQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogbnVsbFxuICB9LFxuICBwcm9maWxlSW1hZ2U6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogbnVsbFxuICB9LFxuICBpc0FjdGl2ZToge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogdHJ1ZVxuICB9LFxuICBsYXN0TG9naW46IHtcbiAgICB0eXBlOiBEYXRlLFxuICAgIGRlZmF1bHQ6IG51bGxcbiAgfSxcbiAgcGFzc3dvcmRSZXNldFJlcXVpcmVkOiB7XG4gICAgdHlwZTogQm9vbGVhbixcbiAgICBkZWZhdWx0OiBmYWxzZVxuICB9LFxuICBjcmVhdGVkQnk6IHtcbiAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgcmVmOiAnVXNlcicsXG4gICAgZGVmYXVsdDogbnVsbFxuICB9LFxuICBkZWxldGVkQXQ6IHtcbiAgICB0eXBlOiBEYXRlLFxuICAgIGRlZmF1bHQ6IG51bGxcbiAgfSxcbiAgZGVsZXRlZEJ5OiB7XG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgIHJlZjogJ1VzZXInLFxuICAgIGRlZmF1bHQ6IG51bGxcbiAgfSxcbiAgY3JlYXRlZEF0OiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0OiBEYXRlLm5vd1xuICB9LFxuICB1cGRhdGVkQXQ6IHtcbiAgICB0eXBlOiBEYXRlLFxuICAgIGRlZmF1bHQ6IERhdGUubm93XG4gIH1cbn0sIHtcbiAgdGltZXN0YW1wczogdHJ1ZVxufSk7XG5cbi8vIEluZGV4ZXMgZm9yIGJldHRlciBwZXJmb3JtYW5jZVxuLy8gTm90ZTogZW1haWwgYW5kIGVtcGxveWVlSWQgaW5kZXhlcyBhcmUgYXV0b21hdGljYWxseSBjcmVhdGVkIGR1ZSB0byB1bmlxdWU6IHRydWVcbnVzZXJTY2hlbWEuaW5kZXgoeyByb2xlOiAxIH0pO1xudXNlclNjaGVtYS5pbmRleCh7IGRlcGFydG1lbnQ6IDEgfSk7XG51c2VyU2NoZW1hLmluZGV4KHsgZ29vZ2xlSWQ6IDEgfSk7XG51c2VyU2NoZW1hLmluZGV4KHsgaXNBY3RpdmU6IDEgfSk7XG51c2VyU2NoZW1hLmluZGV4KHsgY3JlYXRlZEF0OiAtMSB9KTtcblxuLy8gUHJlLXNhdmUgbWlkZGxld2FyZSB0byB1cGRhdGUgdGhlIHVwZGF0ZWRBdCBmaWVsZFxudXNlclNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbihuZXh0KSB7XG4gIHRoaXMudXBkYXRlZEF0ID0gbmV3IERhdGUoKTtcbiAgbmV4dCgpO1xufSk7XG5cbi8vIEluc3RhbmNlIG1ldGhvZHNcbnVzZXJTY2hlbWEubWV0aG9kcy50b0pTT04gPSBmdW5jdGlvbigpIHtcbiAgY29uc3QgdXNlciA9IHRoaXMudG9PYmplY3QoKTtcbiAgZGVsZXRlIHVzZXIuX192O1xuICByZXR1cm4gdXNlcjtcbn07XG5cbnVzZXJTY2hlbWEubWV0aG9kcy51cGRhdGVMYXN0TG9naW4gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5sYXN0TG9naW4gPSBuZXcgRGF0ZSgpO1xuICByZXR1cm4gdGhpcy5zYXZlKCk7XG59O1xuXG4vLyBTdGF0aWMgbWV0aG9kc1xudXNlclNjaGVtYS5zdGF0aWNzLmZpbmRCeUVtYWlsID0gZnVuY3Rpb24oZW1haWwpIHtcbiAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IGVtYWlsOiBlbWFpbC50b0xvd2VyQ2FzZSgpIH0pO1xufTtcblxudXNlclNjaGVtYS5zdGF0aWNzLmZpbmRCeUVtcGxveWVlSWQgPSBmdW5jdGlvbihlbXBsb3llZUlkKSB7XG4gIHJldHVybiB0aGlzLmZpbmRPbmUoeyBlbXBsb3llZUlkIH0pO1xufTtcblxudXNlclNjaGVtYS5zdGF0aWNzLmZpbmRCeVJvbGUgPSBmdW5jdGlvbihyb2xlKSB7XG4gIHJldHVybiB0aGlzLmZpbmQoeyByb2xlLCBpc0FjdGl2ZTogdHJ1ZSB9KTtcbn07XG5cbnVzZXJTY2hlbWEuc3RhdGljcy5maW5kQnlEZXBhcnRtZW50ID0gZnVuY3Rpb24oZGVwYXJ0bWVudCkge1xuICByZXR1cm4gdGhpcy5maW5kKHsgZGVwYXJ0bWVudCwgaXNBY3RpdmU6IHRydWUgfSk7XG59O1xuXG51c2VyU2NoZW1hLnN0YXRpY3MuZmluZEJ5R29vZ2xlSWQgPSBmdW5jdGlvbihnb29nbGVJZCkge1xuICByZXR1cm4gdGhpcy5maW5kT25lKHsgZ29vZ2xlSWQgfSk7XG59O1xuXG4vLyBWaXJ0dWFsIGZvciBmdWxsIG5hbWUgKGlmIG5lZWRlZClcbnVzZXJTY2hlbWEudmlydHVhbCgnZGlzcGxheU5hbWUnKS5nZXQoZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLm5hbWU7XG59KTtcblxuY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVscy5Vc2VyIHx8IG1vbmdvb3NlLm1vZGVsKCdVc2VyJywgdXNlclNjaGVtYSk7XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXI7XG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJ1c2VyU2NoZW1hIiwiU2NoZW1hIiwiZW1haWwiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJsb3dlcmNhc2UiLCJ0cmltIiwibWF0Y2giLCJuYW1lIiwiZW1wbG95ZWVJZCIsInJvbGUiLCJlbnVtIiwiZGVmYXVsdCIsImRlcGFydG1lbnQiLCJpbWFnZSIsImdvb2dsZUlkIiwicGFzc3dvcmQiLCJwcm9maWxlSW1hZ2UiLCJpc0FjdGl2ZSIsIkJvb2xlYW4iLCJsYXN0TG9naW4iLCJEYXRlIiwicGFzc3dvcmRSZXNldFJlcXVpcmVkIiwiY3JlYXRlZEJ5IiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsImRlbGV0ZWRBdCIsImRlbGV0ZWRCeSIsImNyZWF0ZWRBdCIsIm5vdyIsInVwZGF0ZWRBdCIsInRpbWVzdGFtcHMiLCJpbmRleCIsInByZSIsIm5leHQiLCJtZXRob2RzIiwidG9KU09OIiwidXNlciIsInRvT2JqZWN0IiwiX192IiwidXBkYXRlTGFzdExvZ2luIiwic2F2ZSIsInN0YXRpY3MiLCJmaW5kQnlFbWFpbCIsImZpbmRPbmUiLCJ0b0xvd2VyQ2FzZSIsImZpbmRCeUVtcGxveWVlSWQiLCJmaW5kQnlSb2xlIiwiZmluZCIsImZpbmRCeURlcGFydG1lbnQiLCJmaW5kQnlHb29nbGVJZCIsInZpcnR1YWwiLCJnZXQiLCJVc2VyIiwibW9kZWxzIiwibW9kZWwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./models/User.js\n");

/***/ })

};
;