"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_models_User_js";
exports.ids = ["_rsc_models_User_js"];
exports.modules = {

/***/ "(rsc)/./models/User.js":
/*!************************!*\
  !*** ./models/User.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst userSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    email: {\n        type: String,\n        required: true,\n        unique: true,\n        lowercase: true,\n        trim: true,\n        match: [\n            /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n            'Please enter a valid email address'\n        ]\n    },\n    name: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    employeeId: {\n        type: String,\n        required: true,\n        unique: true,\n        trim: true\n    },\n    role: {\n        type: String,\n        required: true,\n        enum: [\n            'faculty',\n            'hod',\n            'security',\n            'security_head',\n            'admin'\n        ],\n        default: 'faculty'\n    },\n    department: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    image: {\n        type: String,\n        default: null\n    },\n    googleId: {\n        type: String,\n        default: null\n    },\n    password: {\n        type: String,\n        default: null\n    },\n    profileImage: {\n        type: String,\n        default: null\n    },\n    isActive: {\n        type: Boolean,\n        default: true\n    },\n    lastLogin: {\n        type: Date,\n        default: null\n    },\n    passwordResetRequired: {\n        type: Boolean,\n        default: false\n    },\n    createdBy: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: 'User',\n        default: null\n    },\n    deletedAt: {\n        type: Date,\n        default: null\n    },\n    deletedBy: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: 'User',\n        default: null\n    },\n    createdAt: {\n        type: Date,\n        default: Date.now\n    },\n    updatedAt: {\n        type: Date,\n        default: Date.now\n    }\n}, {\n    timestamps: true\n});\n// Indexes for better performance\n// Note: email and employeeId indexes are automatically created due to unique: true\nuserSchema.index({\n    role: 1\n});\nuserSchema.index({\n    department: 1\n});\nuserSchema.index({\n    googleId: 1\n});\nuserSchema.index({\n    isActive: 1\n});\nuserSchema.index({\n    createdAt: -1\n});\n// Pre-save middleware to update the updatedAt field\nuserSchema.pre('save', function(next) {\n    this.updatedAt = new Date();\n    next();\n});\n// Instance methods\nuserSchema.methods.toJSON = function() {\n    const user = this.toObject();\n    delete user.__v;\n    return user;\n};\nuserSchema.methods.updateLastLogin = function() {\n    this.lastLogin = new Date();\n    return this.save();\n};\n// Static methods\nuserSchema.statics.findByEmail = function(email) {\n    return this.findOne({\n        email: email.toLowerCase()\n    });\n};\nuserSchema.statics.findByEmployeeId = function(employeeId) {\n    return this.findOne({\n        employeeId\n    });\n};\nuserSchema.statics.findByRole = function(role) {\n    return this.find({\n        role,\n        isActive: true\n    });\n};\nuserSchema.statics.findByDepartment = function(department) {\n    return this.find({\n        department,\n        isActive: true\n    });\n};\nuserSchema.statics.findByGoogleId = function(googleId) {\n    return this.findOne({\n        googleId\n    });\n};\n// Virtual for full name (if needed)\nuserSchema.virtual('displayName').get(function() {\n    return this.name;\n});\nconst User = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('User', userSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0FBRyxTQUFTdEMsVUFBVTtJQUN2RCxPQUFPLElBQUksQ0FBQ29DLE9BQU8sQ0FBQztRQUFFcEM7SUFBVztBQUNuQztBQUVBWCxXQUFXNkMsT0FBTyxDQUFDSyxVQUFVLEdBQUcsU0FBU3RDLElBQUk7SUFDM0MsT0FBTyxJQUFJLENBQUN1QyxJQUFJLENBQUM7UUFBRXZDO1FBQU1RLFVBQVU7SUFBSztBQUMxQztBQUVBcEIsV0FBVzZDLE9BQU8sQ0FBQ08sZ0JBQWdCLEdBQUcsU0FBU3JDLFVBQVU7SUFDdkQsT0FBTyxJQUFJLENBQUNvQyxJQUFJLENBQUM7UUFBRXBDO1FBQVlLLFVBQVU7SUFBSztBQUNoRDtBQUVBcEIsV0FBVzZDLE9BQU8sQ0FBQ1EsY0FBYyxHQUFHLFNBQVNwQyxRQUFRO0lBQ25ELE9BQU8sSUFBSSxDQUFDOEIsT0FBTyxDQUFDO1FBQUU5QjtJQUFTO0FBQ2pDO0FBRUEsb0NBQW9DO0FBQ3BDakIsV0FBV3NELE9BQU8sQ0FBQyxlQUFlQyxHQUFHLENBQUM7SUFDcEMsT0FBTyxJQUFJLENBQUM3QyxJQUFJO0FBQ2xCO0FBRUEsTUFBTThDLE9BQU96RCx3REFBZSxDQUFDeUQsSUFBSSxJQUFJekQscURBQWMsQ0FBQyxRQUFRQztBQUU1RCxpRUFBZXdELElBQUlBLEVBQUMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9rYXJ0aGlrZ3VycmFtL3Byb2plY3RzL2lubm92YXRpb24vZmluYWwva2V5LW1hbmFnZW1lbnQvbW9kZWxzL1VzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcblxuY29uc3QgdXNlclNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICBlbWFpbDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB1bmlxdWU6IHRydWUsXG4gICAgbG93ZXJjYXNlOiB0cnVlLFxuICAgIHRyaW06IHRydWUsXG4gICAgbWF0Y2g6IFsvXlteXFxzQF0rQFteXFxzQF0rXFwuW15cXHNAXSskLywgJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MnXVxuICB9LFxuICBuYW1lOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIHRyaW06IHRydWVcbiAgfSxcbiAgZW1wbG95ZWVJZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB1bmlxdWU6IHRydWUsXG4gICAgdHJpbTogdHJ1ZVxuICB9LFxuICByb2xlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGVudW06IFsnZmFjdWx0eScsICdob2QnLCAnc2VjdXJpdHknLCAnc2VjdXJpdHlfaGVhZCcsICdhZG1pbiddLFxuICAgIGRlZmF1bHQ6ICdmYWN1bHR5J1xuICB9LFxuICBkZXBhcnRtZW50OiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIHRyaW06IHRydWVcbiAgfSxcbiAgaW1hZ2U6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogbnVsbFxuICB9LFxuICBnb29nbGVJZDoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBkZWZhdWx0OiBudWxsXG4gIH0sXG4gIHBhc3N3b3JkOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6IG51bGxcbiAgfSxcbiAgcHJvZmlsZUltYWdlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6IG51bGxcbiAgfSxcbiAgaXNBY3RpdmU6IHtcbiAgICB0eXBlOiBCb29sZWFuLFxuICAgIGRlZmF1bHQ6IHRydWVcbiAgfSxcbiAgbGFzdExvZ2luOiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0OiBudWxsXG4gIH0sXG4gIHBhc3N3b3JkUmVzZXRSZXF1aXJlZDoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2VcbiAgfSxcbiAgY3JlYXRlZEJ5OiB7XG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgIHJlZjogJ1VzZXInLFxuICAgIGRlZmF1bHQ6IG51bGxcbiAgfSxcbiAgZGVsZXRlZEF0OiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0OiBudWxsXG4gIH0sXG4gIGRlbGV0ZWRCeToge1xuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICByZWY6ICdVc2VyJyxcbiAgICBkZWZhdWx0OiBudWxsXG4gIH0sXG4gIGNyZWF0ZWRBdDoge1xuICAgIHR5cGU6IERhdGUsXG4gICAgZGVmYXVsdDogRGF0ZS5ub3dcbiAgfSxcbiAgdXBkYXRlZEF0OiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0OiBEYXRlLm5vd1xuICB9XG59LCB7XG4gIHRpbWVzdGFtcHM6IHRydWVcbn0pO1xuXG4vLyBJbmRleGVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2Vcbi8vIE5vdGU6IGVtYWlsIGFuZCBlbXBsb3llZUlkIGluZGV4ZXMgYXJlIGF1dG9tYXRpY2FsbHkgY3JlYXRlZCBkdWUgdG8gdW5pcXVlOiB0cnVlXG51c2VyU2NoZW1hLmluZGV4KHsgcm9sZTogMSB9KTtcbnVzZXJTY2hlbWEuaW5kZXgoeyBkZXBhcnRtZW50OiAxIH0pO1xudXNlclNjaGVtYS5pbmRleCh7IGdvb2dsZUlkOiAxIH0pO1xudXNlclNjaGVtYS5pbmRleCh7IGlzQWN0aXZlOiAxIH0pO1xudXNlclNjaGVtYS5pbmRleCh7IGNyZWF0ZWRBdDogLTEgfSk7XG5cbi8vIFByZS1zYXZlIG1pZGRsZXdhcmUgdG8gdXBkYXRlIHRoZSB1cGRhdGVkQXQgZmllbGRcbnVzZXJTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24obmV4dCkge1xuICB0aGlzLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCk7XG4gIG5leHQoKTtcbn0pO1xuXG4vLyBJbnN0YW5jZSBtZXRob2RzXG51c2VyU2NoZW1hLm1ldGhvZHMudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gIGNvbnN0IHVzZXIgPSB0aGlzLnRvT2JqZWN0KCk7XG4gIGRlbGV0ZSB1c2VyLl9fdjtcbiAgcmV0dXJuIHVzZXI7XG59O1xuXG51c2VyU2NoZW1hLm1ldGhvZHMudXBkYXRlTGFzdExvZ2luID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMubGFzdExvZ2luID0gbmV3IERhdGUoKTtcbiAgcmV0dXJuIHRoaXMuc2F2ZSgpO1xufTtcblxuLy8gU3RhdGljIG1ldGhvZHNcbnVzZXJTY2hlbWEuc3RhdGljcy5maW5kQnlFbWFpbCA9IGZ1bmN0aW9uKGVtYWlsKSB7XG4gIHJldHVybiB0aGlzLmZpbmRPbmUoeyBlbWFpbDogZW1haWwudG9Mb3dlckNhc2UoKSB9KTtcbn07XG5cbnVzZXJTY2hlbWEuc3RhdGljcy5maW5kQnlFbXBsb3llZUlkID0gZnVuY3Rpb24oZW1wbG95ZWVJZCkge1xuICByZXR1cm4gdGhpcy5maW5kT25lKHsgZW1wbG95ZWVJZCB9KTtcbn07XG5cbnVzZXJTY2hlbWEuc3RhdGljcy5maW5kQnlSb2xlID0gZnVuY3Rpb24ocm9sZSkge1xuICByZXR1cm4gdGhpcy5maW5kKHsgcm9sZSwgaXNBY3RpdmU6IHRydWUgfSk7XG59O1xuXG51c2VyU2NoZW1hLnN0YXRpY3MuZmluZEJ5RGVwYXJ0bWVudCA9IGZ1bmN0aW9uKGRlcGFydG1lbnQpIHtcbiAgcmV0dXJuIHRoaXMuZmluZCh7IGRlcGFydG1lbnQsIGlzQWN0aXZlOiB0cnVlIH0pO1xufTtcblxudXNlclNjaGVtYS5zdGF0aWNzLmZpbmRCeUdvb2dsZUlkID0gZnVuY3Rpb24oZ29vZ2xlSWQpIHtcbiAgcmV0dXJuIHRoaXMuZmluZE9uZSh7IGdvb2dsZUlkIH0pO1xufTtcblxuLy8gVmlydHVhbCBmb3IgZnVsbCBuYW1lIChpZiBuZWVkZWQpXG51c2VyU2NoZW1hLnZpcnR1YWwoJ2Rpc3BsYXlOYW1lJykuZ2V0KGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5uYW1lO1xufSk7XG5cbmNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbHMuVXNlciB8fCBtb25nb29zZS5tb2RlbCgnVXNlcicsIHVzZXJTY2hlbWEpO1xuXG5leHBvcnQgZGVmYXVsdCBVc2VyO1xuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwidXNlclNjaGVtYSIsIlNjaGVtYSIsImVtYWlsIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwibG93ZXJjYXNlIiwidHJpbSIsIm1hdGNoIiwibmFtZSIsImVtcGxveWVlSWQiLCJyb2xlIiwiZW51bSIsImRlZmF1bHQiLCJkZXBhcnRtZW50IiwiaW1hZ2UiLCJnb29nbGVJZCIsInBhc3N3b3JkIiwicHJvZmlsZUltYWdlIiwiaXNBY3RpdmUiLCJCb29sZWFuIiwibGFzdExvZ2luIiwiRGF0ZSIsInBhc3N3b3JkUmVzZXRSZXF1aXJlZCIsImNyZWF0ZWRCeSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJkZWxldGVkQXQiLCJkZWxldGVkQnkiLCJjcmVhdGVkQXQiLCJub3ciLCJ1cGRhdGVkQXQiLCJ0aW1lc3RhbXBzIiwiaW5kZXgiLCJwcmUiLCJuZXh0IiwibWV0aG9kcyIsInRvSlNPTiIsInVzZXIiLCJ0b09iamVjdCIsIl9fdiIsInVwZGF0ZUxhc3RMb2dpbiIsInNhdmUiLCJzdGF0aWNzIiwiZmluZEJ5RW1haWwiLCJmaW5kT25lIiwidG9Mb3dlckNhc2UiLCJmaW5kQnlFbXBsb3llZUlkIiwiZmluZEJ5Um9sZSIsImZpbmQiLCJmaW5kQnlEZXBhcnRtZW50IiwiZmluZEJ5R29vZ2xlSWQiLCJ2aXJ0dWFsIiwiZ2V0IiwiVXNlciIsIm1vZGVscyIsIm1vZGVsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./models/User.js\n");

/***/ })

};
;