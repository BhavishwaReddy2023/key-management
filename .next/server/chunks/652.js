"use strict";exports.id=652,exports.ids=[652],exports.modules={37652:(a,b,c)=>{c.r(b),c.d(b,{default:()=>g});var d=c(56037),e=c.n(d);let f=new(e()).Schema({email:{type:String,required:!0,unique:!0,lowercase:!0,trim:!0,match:[/^[^\s@]+@[^\s@]+\.[^\s@]+$/,"Please enter a valid email address"]},name:{type:String,required:!0,trim:!0},employeeId:{type:String,required:!0,unique:!0,trim:!0},role:{type:String,required:!0,enum:["faculty","hod","security","security_head","admin"],default:"faculty"},department:{type:String,required:!0,trim:!0},image:{type:String,default:null},googleId:{type:String,default:null},password:{type:String,default:null},profileImage:{type:String,default:null},isActive:{type:Boolean,default:!0},lastLogin:{type:Date,default:null},passwordResetRequired:{type:Boolean,default:!1},createdBy:{type:e().Schema.Types.ObjectId,ref:"User",default:null},deletedAt:{type:Date,default:null},deletedBy:{type:e().Schema.Types.ObjectId,ref:"User",default:null},createdAt:{type:Date,default:Date.now},updatedAt:{type:Date,default:Date.now}},{timestamps:!0});f.index({role:1}),f.index({department:1}),f.index({googleId:1}),f.index({isActive:1}),f.index({createdAt:-1}),f.pre("save",function(a){this.updatedAt=new Date,a()}),f.methods.toJSON=function(){let a=this.toObject();return delete a.__v,a},f.methods.updateLastLogin=function(){return this.lastLogin=new Date,this.save()},f.statics.findByEmail=function(a){return this.findOne({email:a.toLowerCase()})},f.statics.findByEmployeeId=function(a){return this.findOne({employeeId:a})},f.statics.findByRole=function(a){return this.find({role:a,isActive:!0})},f.statics.findByDepartment=function(a){return this.find({department:a,isActive:!0})},f.statics.findByGoogleId=function(a){return this.findOne({googleId:a})},f.virtual("displayName").get(function(){return this.name});let g=e().models.User||e().model("User",f)}};